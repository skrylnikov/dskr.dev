---
title: Как правильно установить node.js окружение?
description: Расскажу зачем и почему нужны fnm и corepack
publishDate: 2023-09-18
---
## Installation of Node.JS
There are several ways to install Node.JS and it is difficult to figure out which one is better. In this article we will compare different ways (direct installation, system package managers, nvm, n, nodenv, volta, fnm). TLDR: I prefer using fnm

The easiest option to install Node.JS is to go to [nodejs.org](https://nodejs.org) and download the installer. But that’s not the best idea. A slightly better option is to use the system package manager(`brew`, `apt`, `dnf`). In both cases you can’t quickly change the version of Node.JS. Often the current project requires a fresh LTS version, the legacy project runs under the previous LTS, and also want to try new chips from the Current version.

The most popular solution is [Node Version Manager `nvm`](https://github.com/nvm-sh/nvm). But first, it’s incredibly slow. Each opening of the console with installed `nvm` will take up to a few seconds. Secondly, it doesn’t support fish and windows. Third, globally installed packages will have to be re-installed every time, or you’ll have to write them into a special file. [n](https://github.com/tj/n) and [nodenv](https://github.com/noden/noden/vv) have roughly the same problems.

The next solution is [Volta] (https://volta.sh/). It is written on Rust, which means it should be fast. It supports fish and even windows. Globally installed libraries work even after a change of version. But `.nvmrc`/`.node-version` files are not supported, although it is suggested to write a node version in `package.json` to replace it.

And finally [Fast Node Manager `fnm`] (fnm.vercel.app). Also written on Rust. It works fast and supports everything you need. Installed by fnm with one command:
```bash
curl -fsSL https://fnm.vercel.app/install | bash
```
Next, you can install the Node.JS version that will be used by default:
```bash
fnm default 18
```
Now you can add a `.node-version` file to the project indicating the version of Node.JS that will be used in the project.
```bash
echo 18.17.0 > .node-version
```
When you open the console in the project folder, fnm will automatically enable the desired version of Node.JS.

There is a small disadvantage, if the project specifies a version of Node.JS that is not installed, it will not be installed automatically, but a mistake will appear when the console is opened.
```bash
fnm install
fnm use
```

## Installation of pnpm/yarn
Node.JS, starting with version 16.13, has supported [Corepack](https://github.com/nodejs/corepack). This utility allows you to use any supported package manager without manual installation. All you need to do is enable corepack:
```bash
corepack enable
```
After that, when you first use `pnpm`/`yarn`, they will automatically install and work.
